{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/NotificationMessage.js","components/ErrorMessage.js","App.js","index.js"],"names":["Filter","searchWord","handleSearchWordChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","removePerson","filter","element","name","toLowerCase","includes","map","person","hidden","readOnly","id","number","baseUrl","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","update","put","NotificationMessage","message","className","ErrorMessage","App","useState","setPersons","setNewName","setNewNumber","setSearchWord","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","event","target","preventDefault","foundPersons","length","window","confirm","personObject","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2b6c6de4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({searchWord, handleSearchWordChange}) => {\r\n    return (\r\n        <div>\r\n            filter shown with <input value={searchWord} onChange={handleSearchWordChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>name: <input value={newName} onChange={handleNameChange} /></div>\r\n            <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\r\n            <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, searchWord, removePerson}) => {\r\n    return (\r\n        <div>\r\n            {persons.filter(element => element.name.toLowerCase().includes(searchWord.toLowerCase())).map(person =>\r\n            <div key={person.name}>\r\n                <form onSubmit={removePerson}>\r\n                    <div><input hidden readOnly value={person.id} /></div>\r\n                    <div><input hidden readOnly value={person.name} /></div>\r\n                    <div>{person.name} {person.number}<button type=\"submit\">delete</button></div>\r\n                </form>\r\n            </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst persons = {\r\n    getAll,\r\n    create,\r\n    remove,\r\n    update\r\n}\r\n\r\nexport default persons","import React from 'react'\r\n\r\nconst NotificationMessage = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"notification\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotificationMessage","import React from 'react'\r\n\r\nconst ErrorMessage = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorMessage","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport NotificationMessage from './components/NotificationMessage'\nimport ErrorMessage from './components/ErrorMessage'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchWord, setSearchWord] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const foundPersons = persons.filter(element => element.name === newName)\n    if (foundPersons.length > 0) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = foundPersons[0].id\n        const personObject = {\n          name: newName,\n          number: newNumber\n        }\n        personService\n          .update(id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n            setNotificationMessage(\n              `Updated ${returnedPerson.name}`\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setPersons(persons.filter(person => person.id !== id))\n            setErrorMessage(\n              `Information of ${newName} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNotificationMessage(\n            `Added ${returnedPerson.name}`\n          )\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(\n            error.response.data.error\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n\n  const removePerson = (event) => {\n    event.preventDefault()\n    const id = event.target[0].value\n    const name = event.target[1].value\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .remove(id)\n        .then(data => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNotificationMessage(\n            `Removed ${name}`\n          )\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchWordChange = (event) => {\n    setSearchWord(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <NotificationMessage message={notificationMessage} />\n      <ErrorMessage message={errorMessage} />\n      <Filter searchWord={searchWord} handleSearchWordChange={handleSearchWordChange} />\n      <h3>Add a new</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons persons={persons} searchWord={searchWord} removePerson={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}